<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <title>Shopping Cart</title>
  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
  <style>
    body {
      background-color: #ffffff;
    }
    .cart-container {
      max-width: 800px;
      margin: 50px auto;
    }
    .product {
      border: 1px solid #ddd;
      padding: 15px;
      margin-bottom: 15px;
      position: relative;
    }
    .product img {
      max-width: 100%;
      height: auto;
    }
    .quantity {
      width: 60px;
      text-align: center;
    }
    .remove-btn,
    .select-btn {
      position: absolute;
      top: 15px;
      cursor: pointer;
    }
    .remove-btn {
      right: 15px;
      color: #dc3545;
    }
    .total {
      font-size: 1.5rem;
      font-weight: bold;
      margin-top: 20px;
    }
    #processPaymentBtn {
      width: 100%;
      font-size: 1.2rem;
    }
  </style>
</head>
<body>

<div class="container cart-container">
  <h2>Shopping Cart</h2>

  <!-- Product 1 -->
  <div class="product">
    <div class="row">
      <div class="col-md-1">
        <div class="form-check">
          <input type="checkbox" class="form-check-input product-checkbox" id="product1" name="products" value="product1">
        </div>
      </div>
      <div class="col-md-3">
        <img src="https://via.placeholder.com/150" alt="Product Image">
      </div>
      <div class="col-md-4">
        <h4>Product Name 1</h4>
        <p class="price">Price: $20.00</p>
      </div>
      <div class="col-md-3">
        <label for="quantity1">Quantity:</label>
        <input type="number" class="form-control quantity" id="quantity1" value="2">
      </div>
      <button class="btn btn-link remove-btn">Remove</button>
    </div>
  </div>

  <!-- Product 2 -->
  <div class="product">
    <div class="row">
      <div class="col-md-1">
        <div class="form-check">
          <input type="checkbox" class="form-check-input product-checkbox" id="product2" name="products" value="product2">
        </div>
      </div>
      <div class="col-md-3">
        <img src="https://via.placeholder.com/150" alt="Product Image">
      </div>
      <div class="col-md-4">
        <h4>Product Name 2</h4>
        <p class="price">Price: $15.00</p>
      </div>
      <div class="col-md-3">
        <label for="quantity2">Quantity:</label>
        <input type="number" class="form-control quantity" id="quantity2" value="1">
      </div>
      <button class="btn btn-link remove-btn">Remove</button>
    </div>
  </div>

  <!-- Total Price -->
  <div class="total">
    Total: $0.00
  </div>

  <!-- Payment -->
  <h4 class="mt-4">Select Products for Payment:</h4>
  <button type="button" class="btn btn-primary mt-2 btn-lg" id="processPaymentBtn">Process Payment</button>
</div>

<!-- Bootstrap JS and jQuery -->
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>

<script>
  $(document).ready(function() {
    // Handle Remove button click
    $(".remove-btn").click(function() {
      $(this).closest(".product").remove();
      updateTotal();
    });

    // Handle Process Payment button click
    $("#processPaymentBtn").click(function() {
      var selectedProducts = $("[name='products']:checked");
      var total = 0;
      selectedProducts.each(function() {
        var quantity = parseInt($(this).closest('.product').find('.quantity').val());
        var price = parseFloat($(this).closest('.product').find('.price').text().replace('Price: $', ''));
        total += quantity * price;
      });
      alert("Processing payment for $" + total.toFixed(2) + " for selected product(s).");
    });

    // Update total price function
    function updateTotal() {
      // Calculate and update the total price
      var totalPrice = 0;
      $(".product-checkbox:checked").each(function() {
        var quantity = parseInt($(this).closest('.product').find('.quantity').val());
        var price = parseFloat($(this).closest('.product').find('.price').text().replace('Price: $', ''));
        totalPrice += quantity * price;
      });
      $(".total").text("Total: $" + totalPrice.toFixed(2));
    }

    // Handle Quantity input change
    $(".quantity").change(function() {
      var input = $(this);
      var newValue = parseInt(input.val());
      if (newValue < 1) {
        // Remove the product if quantity is less than 1
        input.closest(".product").remove();
      } else {
        updateTotal();
      }
    });

    // Handle product checkbox change
    $(".product-checkbox").change(function() {
      updateTotal();
    });
  });
</script>

</body>
</html>
